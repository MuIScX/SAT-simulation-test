<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script>
    <script type="module" src="node_modules\smart-webcomponents\source\smart.calendar.js"></script>
    <!-- https://favicon.io/emoji-favicons/money-bag/ -->
    <script src="https://kit.fontawesome.com/277e6f7627.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="\static\style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <!-- <script src="..\static\script.js"></script> -->
    <title>myexam</title>
</head>
<body>
    <div class="row">
        <div class="col-sm-2">
            <div class="sideNav  d-flex flex-column justify-content-between">
                <div class="sideNav-header w-100 text-light">
                    <Image  class="sideNav-header" src=static\logoNewtonTech2022.png alt="logo"/>

                </div>
                <div class="sideNav-content w-100 d-flex flex-column">
                    <a href="/" class="d-flex text-decoration-none link-light my-2">
                        <div class="container-nav-icon text-center"><i class="fa-solid fa-house"></i></div>
                        <div class="container-nav-bar">
                            Home
                        </div>
                    </a>
                    <a href="/myTest" class="d-flex text-decoration-none link-light my-2">
                        <div class="container-nav-icon text-center"><i class="fa-solid fa-file-lines"></i></div>
                        <div class="container-nav-bar">
                            My exam 
                        </div>
                    </a>
                </div>
                <div class="sideNav-footer w-100">
                    <form action="/logout">
                    <button class="btn btn-danger w-100"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</button>
                </form>
                </div>
            </div>
        </div>
        <div class="col-md-10">
            <div class="container-fluid">
                <div class="row mt-4">
                    <div class="fakeHr newton-bg-purple mb-4">
                    </div>
                    <!--Exam-->
                    <div class="col-md-8  d-grid gap-3">
                        <div class="home-banner newton-bg-gold">
                                <div class="text-light"><h2>Welcome, ! <br><span class="h5">Good luck on test day!</span></h2></div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="your-test d-flex justify-content-between">
                                    <h3 class="newton-text-purple">Your test </h3>
                                    <div class="actPass">
                                        <form action="/" method="POST">
                                            <button type="submit" name="Active" value="1">Active</button>
                                        </form> 
                                    </div>
                                </div>
                                {% if Done != "DONE"%}
                                <div class="examcard card h-50">
                                    <div class="examcard-head">
                                        <h5 class="newton-text-purple">Test 1</h5>
                                    </div>
                                    <div class="examcard-content newton-bg-gold d-flex flex-column justify-content-end h-100">
                                        <div class="text-end">
                                            <form action="/" method="POST">
                                                <button type="submit" name="start" value="1">start</button>
                                            </form>   
                                        </div>
                                    </div>
                                </div>
                                {%endif %}
                            </div>
                            <div class="col-sm-6">
                                <div class="your-test d-flex justify-content-between text-center">
                                    <div class="d-flex h3 newton-text-purple">
                                        <div class="text-center"><i class="fa-solid fa-clock-rotate-left"></i></div>
                                        <div class="">
                                            History
                                        </div>
                                    </div>
                                    <div class="actPass text-center">
                                        <form action="/myTest"><button>More</button> </form>
                                        
                                    </div>
                                </div>
                                {% if Done == "DONE"%}
                                <div class="examcard card">
                                    <div class="examcard-head">
                                        <h5 class="newton-text-purple">Sat practice 2</h5>
                                    </div>
                                    <div class="examcard-content newton-bg-gold d-flex flex-column justify-content-end">
                                        <div class="text-end">
                                            <form action="/" method="POST">
                                                <button type="submit" name="start" value="1">See score</button>
                                            </form> 
                                        </div>
                                    </div>
                                </div>
                                {% endif %}

                                <!-- <div class="examcard card">
                                    <div class="examcard-head">
                                        <h5 class="newton-text-purple">Sat practice 1</h5>
                                    </div>
                                    <div class="examcard-content newton-bg-gold d-flex flex-column justify-content-end">
                                        <div class="text-end">
                                            <button>Resume</button>   
                                        </div>
                                    </div>
                                </div>  -->
                            </div>
                        </div>
        
                    </div>
                    <!--Profile-->
                    <div class="col-md-4 profile">
                        <div class="card plus">
                            <div class="d-flex flex-column">
                                <h5 class="newton-tree-text">Calendar</h5>
                                    <header class="tree">
                                      <div class="icons">
                                        <p class="current-date"></p>
                                        <span id="prev" class="material-symbols-rounded f1">chevron_left</span>
                                        <span id="next" class="material-symbols-rounded b1">chevron_right</span>
                                      </div>
                                    </header>
                                    <div class="calendar">
                                      <ul class="weeks">
                                        <li>Sun</li>
                                        <li>Mon</li>
                                        <li>Tue</li>
                                        <li>Wed</li>
                                        <li>Thu</li>    
                                        <li>Fri</li>
                                        <li>Sat</li>
                                      </ul>
                                      <ul class="days"></ul>
                                    </div>
                                <div class="card-profile-content">
                                    <div>
                                        
                                    </div>
                                    <div></div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="d-flex flex-column">
                                <div class="card-profile-head">
                                    <h5 class="newton-tree-text">Performance (Coming Soon! UvU)</h5>
                                    <div>
    
                                    </div>
                                </div>
                                <div class="card-profile-content">
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script>

const daysTag = document.querySelector(".days"),
currentDate = document.querySelector(".current-date"),
prevNextIcon = document.querySelectorAll(".icons span");

// getting new date, current year and month
let date = new Date(),
currYear = date.getFullYear(),
currMonth = date.getMonth();

// storing full name of all months in array
const months = ["January", "February", "March", "April", "May", "June", "July",
              "August", "September", "October", "November", "December"];

const renderCalendar = () => {
    let firstDayofMonth = new Date(currYear, currMonth, 1).getDay(), // getting first day of month
    lastDateofMonth = new Date(currYear, currMonth + 1, 0).getDate(), // getting last date of month
    lastDayofMonth = new Date(currYear, currMonth, lastDateofMonth).getDay(), // getting last day of month
    lastDateofLastMonth = new Date(currYear, currMonth, 0).getDate(); // getting last date of previous month
    let liTag = "";

    for (let i = firstDayofMonth; i > 0; i--) { // creating li of previous month last days
        liTag += `<li class="inactive">${lastDateofLastMonth - i + 1}</li>`;
    }

    for (let i = 1; i <= lastDateofMonth; i++) { // creating li of all days of current month
        // adding active class to li if the current day, month, and year matched
        let isToday = i === date.getDate() && currMonth === new Date().getMonth() 
                     && currYear === new Date().getFullYear() ? "active" : "";
        liTag += `<li class="${isToday}">${i}</li>`;
    }

    for (let i = lastDayofMonth; i < 6; i++) { // creating li of next month first days
        liTag += `<li class="inactive">${i - lastDayofMonth + 1}</li>`
    }
    currentDate.innerText = `${months[currMonth]} ${currYear}`; // passing current mon and yr as currentDate text
    daysTag.innerHTML = liTag;
}
renderCalendar();

prevNextIcon.forEach(icon => { // getting prev and next icons
    icon.addEventListener("click", () => { // adding click event on both icons
        // if clicked icon is previous icon then decrement current month by 1 else increment it by 1
        currMonth = icon.id === "prev" ? currMonth - 1 : currMonth + 1;

        if(currMonth < 0 || currMonth > 11) { // if current month is less than 0 or greater than 11
            // creating a new date of current year & month and pass it as date value
            date = new Date(currYear, currMonth, new Date().getDate());
            currYear = date.getFullYear(); // updating current year with new date year
            currMonth = date.getMonth(); // updating current month with new date month
        } else {
            date = new Date(); // pass the current date as date value
        }
        renderCalendar(); // calling renderCalendar function
    });
});
    </script>

<script>
    const ctx = document.getElementById('myChart');
    
    new Chart(ctx, {
  type: 'line',
  data: {
    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
    datasets: [{
      label: 'Math',
      data: [65, 59, 80, 81, 26, 55, 40],
      fill: false,
      borderColor: 'rgb(75, 192, 192)',
    },
    {
      label: 'Verbal',
      data: [45, 70, 60, 90, 45, 75, 30],
      fill: false,
      borderColor: 'rgb(255, 99, 132)',
    }]
  },
  options: {
    scales: {
      y: { // defining min and max so hiding the dataset does not change scale range
        min: 0,
        max: 100
      }
    }
  }
});

  </script>
</html>